<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="../plugins/colpick/colpick.css">
</head>
<body>

<div class="box">
<input type="color" class="d1" value="#2D9900"/>
<input type="color" value="#2D9900"/>
<input type="color" value="#2D9900"/>
<input type="color" value="#2D9900"/>
<input type="color" value="#2D9900"/>
<input type="color" value="#2D9900"/>


<div class="div1">
	<input type="text" class="picker-index">
</div>
<div class="div1">
	<input type="text" class="picker">
	<input type="text" class="picker">
	<input type="text" class="picker">
	<input type="text" class="picker">
	<input type="text" class="picker">
	<input type="text" class="picker">
</div>
</div>
<button type="" onclick="clickHandle()">点击</button>


<script src="../plugins/jquery/jquery-3.1.1.min.js"></script>
<script src="../plugins/colpick/colpick.js"></script>	
<script>
	//基础设置初始颜色
		$(".picker-index").colpick({
			layout: 'hex',
			submit: 0,
			colorScheme: 'dark',
			onChange: function(hsb, hex, rgb, el, bySetColor) {
				$(el).css('border-color', '#' + hex);
				// Fill the text box just if the color was set using the picker, and not the colpickSetColor function.
				if (!bySetColor) $(el).val('#' + hex);
			}
		}).keyup(function() {
			$(this).colpickSetColor(this.value);
		});

		$('.picker').click(function(event) {
			$('.colpick').show();
			console.log()

			$(this).val($(".picker-index").val());
		});


		function clickHandle(){
			//var div1=document.querySelector('.div1');
			var $clone=$('.div1').clone();
			console.log($clone)
			$('body').after($clone);
			var picker=$clone.find('.picker');


		picker.colpick({
			layout: 'hex',
			submit: 0,
			colorScheme: 'dark',
			onChange: function(hsb, hex, rgb, el, bySetColor) {
				$(el).css('border-color', '#' + hex);
				// Fill the text box just if the color was set using the picker, and not the colpickSetColor function.
				if (!bySetColor) $(el).val('#' + hex);
			}
		}).keyup(function() {
			$(this).colpickSetColor(this.value);
		});

		}

</script>
</body>
</html>